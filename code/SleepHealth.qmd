---
title: "Sleep, Health and Lifestyle Dataset Analysis "
format: html
theme: superhero
execute:
  echo: false
  error: true
---


```{r message=FALSE}
library(tidyverse)
library(gtsummary)

ss <- read_csv(here::here("data", "raw", "ss.csv"))

```


Renaming varibables as dataset is already cleaned
```{r}
ss_clean <- ss %>%
	rename(
		Person_ID = `Person ID`,
		Sleep_Duration = `Sleep Duration`,
		Sleep_Quality = `Quality of Sleep`,
		Physical_Activity_Level = `Physical Activity Level`,
		Stress_Level = `Stress Level`,
		BMI_Category = `BMI Category`,
		Heart_Rate = `Heart Rate`,
		Daily_Steps = `Daily Steps`,
		Sleep_Disorder = `Sleep Disorder`
	)
```

# Data Description

The data set examined in this final project report is the "Sleep, Health, and Lifestyle" data set. This data set was created by Henry Shan and is accessible through the Kaggle website.The data set contains a wide range of variables related to sleep and daily routines. The data set includes variables such as gender, age, occupation, sleep duration, sleep quality, physical activity, stress level, BMI, blood pressure, heart rate, daily steps taken, and presence of sleep disorders. 

# Table of Descriptive Statistics

```{r}
#| label: fig-table1
#| fig-cap: "Table 1 shows the descriptive statistics"
tbl_summary(
  ss_clean,
  by = Gender,
  include = c(Gender, Sleep_Duration, Physical_Activity_Level, 
  						BMI_Category, Heart_Rate, Daily_Steps, Sleep_Disorder),
  label = list(
  	Sleep_Duration ~ "Sleep Duration",
  	Physical_Activity_Level ~ "Physical Activity Level",
  	BMI_Category ~ "BMI Category",
  	Heart_Rate ~ "Heart Rate",
  	Daily_Steps ~ "Daily Steps",
  	Sleep_Disorder ~ "Sleep Disorder"
  ))
```


```{r}
#| label: fig-table1
#| fig-cap: "Table 1 shows the descriptive statistics"
tbl_summary(
  nlsy,
  by = sex_cat,
  include = c(sex_cat, race_eth_cat, region_cat,
              eyesight_cat, glasses, age_bir))
```

```{r}
#| label: fig-table2
#| fig-cap: "Table 2 shows the descriptive statistics"
tbl_summary(
  nlsy,
  by = sex_cat,
  include = c(sex_cat, race_eth_cat, region_cat,
              eyesight_cat, glasses, age_bir),
  label = list(
    race_eth_cat ~ "Race/ethnicity",
    region_cat ~ "Region",
    eyesight_cat ~ "Eyesight",
    glasses ~ "Wears glasses",
    age_bir ~ "Age at first birth"
  ),
  missing_text = "Missing")
```
@fig-table1 contains a table and @fig-table2 contains a table.


```{r}

# Error in this code was that nlsy was originally all capitalized as R is case sensitive
tbl_summary(
  nlsy,
  by = sex_cat,
  include = c(sex_cat, race_eth_cat, region_cat,
              eyesight_cat, glasses, age_bir))
```

Weâ€™re using some data from the National Longitudinal Survey of Youth 1979, a cohort of American young adults aged 14-22 at enrollment in 1979. They continue to be followed to this day, and there is a wealth of publicly available data online. Iâ€™ve downloaded the answers to a survey question about whether respondents wear glasses, a scale about their eyesight with glasses, their (NLSY-assigned ðŸ˜’) race/ethnicity, their sex (presumably at birth, but unclear), their familyâ€™s income in 1979, and their age at the birth of their first child.


```{r}
mean_sleep_weekend <- mean(nlsy$sleep_wknd, na.rm = TRUE)
mean_sleep_weekend
```
1. There mean number of hours was `r mean_sleep_weekend`
2. There mean number of hours was `r mean(nlsy$sleep_wknd, na.rm = TRUE)`

```{r}
median_sleep_weekend <- median(nlsy$sleep_wknd, na.rm = TRUE)
median_sleep_weekend
```
3. The median numbers of hours was `r median_sleep_weekend` participants
4. The median numbers of hours was `r mean(nlsy$sleep_wknd, na.rm = TRUE)` participants"


```{r}
#| eval: true
#| label: tbl-descr
#| tbl-cap: "Descriptive statistics"
#| output-location: slide
table1 <- tbl_summary(
  nlsy,
  by = sex_cat,
  include = c(sex_cat, race_eth_cat, region_cat,
              eyesight_cat, glasses, age_bir, sleep_wknd)) |> 
  add_overall(last = TRUE)

table1

mean_hrs_sleep <- inline_text(table1, variable = "sleep_wknd", column = "stat_0")
```

The median and IQR are `r mean_hrs_sleep`
